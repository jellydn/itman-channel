
/assets/IT Man - Intro.mp4
background: true

---

/assets/New content every Sunday.mp4
background: true

----

### ESM VS CJS
/assets/cjs-esm.png
#### How to migrate from CJS to ESM

---

### Error [ERR_REQUIRE_ESM]: require() of ES Module not supported

---


### Why [?](https://vitejs.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated)
```sh
The CJS build of Vite's Node API is deprecated. See https://vitejs.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.

  VITE v5.0.2  ready in 313 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

---
### [CommonJS vs ES Module](https://blog.logrocket.com/commonjs-vs-es-modules-node-js/)
```js
const fs = require('fs');

// vs

import fs from 'fs';
```

---
### [ESM>CDN](https://esm.sh/)

---

### [The ESM move](https://github.com/sindresorhus/meta/discussions/15)

---
### [Pure ESM package](https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c)


---

### CommonJS
#### [ERROR: Top-level await is currently not supported with the "cjs" output format](https://github.com/privatenumber/tsx/discussions/137)

#### Use ESM in CommonJS
```js
(async () => {
  const module = await import('esm-module');
  // use module here
})();
```


---

### Demo

#### [typescript-starter-mini: Typescript minimal starter project](https://github.com/jellydn/typescript-starter-mini)

---

# Thank you

/assets/IT Man Main Logo 800x600.png
## [https://bitly.com/m/itman](https://bitly.com/m/itman)


Stay tuned for more innovative tech insights with IT Man Channel.
[https://bitly.com/m/itman](https://bitly.com/m/itman)
